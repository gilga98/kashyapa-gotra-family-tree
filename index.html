<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Family Tree</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Font Awesome (icons) -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
        referrerpolicy="no-referrer" />

  <!-- D3 (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>

  <!-- Fuse.js (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.1.0/dist/fuse.min.js"></script>
</head>

<body>
  <div id="app" class="app-grid">
    <header class="topbar">
      <div class="brand">
        <span class="brand-title">Family Tree</span>
      </div>
      <button id="btnReset" class="icon-btn" title="Reset view" aria-label="Reset view">
        <i class="fa-solid fa-arrows-to-dot"></i>
      </button>
    </header>

    <main id="viewport" class="viewport" aria-label="Family tree viewport">
      <svg id="treeSvg" class="tree-svg" role="img" aria-label="Family tree diagram"></svg>

      <!-- Floating Action Button (search) -->
      <button id="searchFab" class="fab" aria-label="Search">
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
    </main>

    <!-- Search Overlay -->
    <section id="searchOverlay" class="overlay hidden" aria-hidden="true">
      <div class="overlay-sheet">
        <div class="overlay-header">
          <input id="searchInput" class="search-input" type="text"
                 placeholder="Search a nameâ€¦"
                 autocomplete="off" inputmode="search" />
          <button id="closeSearch" class="icon-btn" aria-label="Close search">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>

        <div id="searchMeta" class="search-meta"></div>
        <div id="searchResults" class="results" role="list"></div>
      </div>
    </section>

    <!-- Profile Modal -->
    <section id="profileModal" class="modal hidden" aria-hidden="true">
      <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="profileTitle">
        <div class="modal-header">
          <div>
            <div id="profileTitle" class="modal-title"></div>
            <div id="profileDates" class="modal-subtitle"></div>
          </div>
          <button id="closeProfile" class="icon-btn" aria-label="Close profile">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>

        <div class="modal-body">
          <div class="profile-row">
            <div id="profilePhoto" class="photo"></div>
            <div class="profile-text">
              <div class="section-title">Notes</div>
              <div id="profileNotes" class="notes"></div>
            </div>
          </div>

          <div class="section-title">Immediate family</div>
          <div id="profileFamily" class="family-links"></div>
        </div>

        <div class="modal-footer">
          <button id="closeProfileBottom" class="btn">Close</button>
        </div>
      </div>
    </section>
  </div>

  <script src="script.js"></script>
</body>
</html>
